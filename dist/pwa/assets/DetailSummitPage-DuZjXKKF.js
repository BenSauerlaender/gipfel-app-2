import{$ as T,b as u,r as V,D as P,u as R,aq as A,a4 as B,Q as D,T as W,S as s,ap as b,ac as N,R as g,U as e,a0 as a,a3 as x,a2 as h,W as l,X as m}from"./index-D5dlIUyy.js";import{Q as q}from"./QTooltip-CA-QUXFw.js";import{Q as _}from"./QCardSection-hbXFI8Kn.js";import{Q as v}from"./QSeparator-BlJwVjEq.js";import{Q as $,a as Q,b as j,c as w}from"./QTabPanels-_UZwKMvx.js";import{Q as I}from"./QCard-BS_7SdRC.js";import{A as U}from"./AscentTable-QMCAQxB9.js";import{R as E}from"./RouteTable-23mvSJNb.js";import{a as F}from"./dataStore-swpdkdCu.js";import"./format-Den2KV2Y.js";import"./focus-manager-BJWzFvJg.js";import"./use-key-composition-DHurTuA_.js";import"./touch-BNURemir.js";import"./QSelect-DQmXCj9A.js";import"./use-checkbox-CmntGELh.js";import"./private.use-form-tzj63TXQ.js";import"./QInput-CK6CjM5w.js";import"./QTable-DJtZOFF0.js";import"./QLinearProgress-CG24zA5z.js";import"./RouteGradeChip-B9IHD0jX.js";import"./RouteTTScoreChip-CaprHM8K.js";import"./resourceStore-CLHL65q7.js";const K={class:"q-pa-md page-container"},L={class:"row justify-between"},M={class:"row items-center"},X={class:"text-h5 q-ml-md"},z={class:"text-grey-6"},G={class:"row justify-center"},H={class:"col-12 col-sm-3 text-center"},J={class:"text-h4 text-weight-bold text-blue-7"},O={class:"col-12 col-sm-3 text-center"},Y={class:"text-h4 text-weight-bold text-blue-7"},Z={class:"col-12 col-sm-3 text-center"},tt={class:"text-h4 text-weight-bold text-blue-7"},et={__name:"DetailSummitPage",setup(ot){const d=R(),i=F(),o=u(()=>i.summits.find(n=>n._id===b().params.id)),p=u(()=>i.routes[b().params.id]),y=u(()=>i.f_AscentsPerSummit[o.value._id]??0),k=u(()=>p.value.filter(n=>i.f_AscentsPerRoute[n._id]>0).length),C=u(()=>o.value.routeCount==0?0:(k.value/o.value.routeCount*100).toFixed(1)),c=V("routes"),S=u(()=>i.f_Ascents.filter(n=>n.route.summitID===o.value._id));return P(()=>{o.value||d.push({name:"404"})}),A((n,t)=>{if(window.history.length>1){const f=d.options.history.state?.current,r="/map/"+o.value._id;if(n.fullPath==r)return!0;if(f.startsWith("/map")&&n.fullPath.startsWith("/map"))return r}}),(n,t)=>{const f=N("router-link");return g(),B("div",K,[o.value?(g(),D(I,{key:0},{default:s(()=>[e(_,null,{default:s(()=>[a("div",L,[a("div",M,[e(x,{round:"",color:"primary",icon:"arrow_back",onClick:t[0]||(t[0]=r=>h(d).back())}),a("div",X,[l(m(o.value.name)+" ",1),a("span",z,[t[4]||(t[4]=l("(")),e(f,{style:{"text-decoration":"none",color:"inherit"},to:`/regions/${o.value.regionID}`},{default:s(()=>[l(m(o.value.regionName),1)]),_:1},8,["to"]),t[5]||(t[5]=l(")"))])])]),e(x,{flat:"",round:"",color:"primary",icon:"map",onClick:t[1]||(t[1]=r=>h(d).push("/map/"+o.value._id))},{default:s(()=>[e(q,null,{default:s(()=>t[6]||(t[6]=[l(" Auf Karte ansehen ")])),_:1,__:[6]})]),_:1})])]),_:1}),e(v),e(_,null,{default:s(()=>[a("div",G,[a("div",H,[a("span",J,m(p.value.length),1),t[7]||(t[7]=l(" Wege "))]),a("div",O,[a("span",Y,m(C.value)+"%",1),t[8]||(t[8]=l(" begangen "))]),a("div",Z,[a("span",tt,m(y.value),1),t[9]||(t[9]=l(" Begehungen "))])])]),_:1}),e(v),e(_,null,{default:s(()=>[e($,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=r=>c.value=r),class:"text-blue-7 q-mt-md","inline-label":"",align:"justify"},{default:s(()=>[e(Q,{name:"routes",icon:"book",label:"Wege"}),e(Q,{name:"ascents",icon:"table_chart",label:"Begehungen"})]),_:1},8,["modelValue"]),e(v),e(j,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=r=>c.value=r),animated:""},{default:s(()=>[e(w,{name:"routes"},{default:s(()=>[e(E,{routes:p.value,columns:["name","grade","stars","unsecure","ascents","ttScore"],defaultSort:["name","asc"]},null,8,["routes"])]),_:1}),e(w,{name:"ascents"},{default:s(()=>[e(U,{ascents:S.value,columns:["date","route","grade","stars","unsecure","ascentType","climbers","isAborted","notes"]},null,8,["ascents"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):W("",!0)])}}},Ct=T(et,[["__scopeId","data-v-48825994"]]);export{Ct as default};
